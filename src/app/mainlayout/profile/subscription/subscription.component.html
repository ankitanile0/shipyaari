<div *ngIf="divShow == 0" >
<div class="row align-items-center subs mt-2">
   <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
      <!--  <p class="mb-0 font-bold font-14">Subscription Summary -</p> -->
   </div>
   <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
      <div class="card">
         <div class="card-header p-1 text-center">
            <h4 class="text-center title-main">Subscription Summary</h4>
         </div>
         <div class="card-body p-1">
            <p class="mb-0 text-center">
               <a href="javascript:" class="link" data-toggle="modal" data-target="#subscribesummary" (click)="openPlan(plan)" >
            <p><b>{{group_title}}</b></p></a> 
            </p>
         </div>
      </div>
      <div class="col-lg-4 col-md-4 col-sm-12">
         <!--  <p class="mb-0">
            <a href="javascript:" class="link" 
            data-toggle="modal" data-target="#subscribesummary" (click)="openPlan(plan)" ><p><b>{{group_title}}</b></p></a> 
               </p> -->
      </div>
      <!-- <div class="col-lg-3 col-md-3 col-sm-12 mb-2">
         <p class="mb-0 font-bold font-14">Subscription Upgrade -</p>
         </div>
         <div class="col-lg-3 col-md-3 col-sm-12 mb-2">
         <p class="mb-0">
             <a href="#" data-toggle="modal" (click)="ShowDiv()" data-target="#selectplan" class="btn btn-primary btn-sm">Select Plan</a>
         </p>
         </div> -->
   </div>
   <br>
</div>
<div class="section-title mt-3 title-main">Subscription History / Invoices</div>
<div class="mt-3">
   <div class="table-responsive">
      <table class="table table-striped table-hover" id="save-stage"  style="width:100%; font-size: 12px;">
         <thead class="text-center">
            <tr>
               <th width="%" class="p-1">SrNo</th>
               <th width="%" class="p-1">Invoice Date</th>
               <th width="%" class="p-1">Invoice/Receipt Number</th>
               <th width="%" class="p-1">Invioce Amount</th>
               <th width="%" class="p-1">Actions</th>
            </tr>
         </thead>
         <tbody>
            <ng-container *ngIf="plan_invoice_history[0] != ''">
               <tr *ngFor="let data of plan_invoice_history; let i = index">
                  <td> {{i+1}} </td>
                  <td> {{data.invoice_date}} </td>
                  <td> {{data.invoice_number}} </td>
                  <td> {{data.invoice_amount}}/- </td>
                  <td class="align-center"><a *ngIf="data.invoice_amount <= 0" href="javascript:" (click)="view_receipt(data.id)"> <i class="fa fa-eye fa-lg text-primary"></i> </a>
                     <a *ngIf="data.invoice_amount > 0" href="javascript:" (click)="view_invoice(data.id)"> <i class="fa fa-eye fa-lg text-primary"></i> </a>
                  </td>
               </tr>
            </ng-container>
            <tr *ngIf="plan_invoice_history == null || plan_invoice_history.length == 0">
               <td colspan="5">
                  <div class="col-lg-12 mt-5 mb-5 text-center">
                     <img src="assets/img/alert.png">
                     <p class="mb-0"><small>No data Found</small></p>
                  </div>
               </td>
            </tr>
         </tbody>
      </table>
   </div>
</div>
<ng-template #plan>
   <div class="modal-header">
      <p class="modal-title pull-left" style="font-size: 15px;">Plan Details</p>
      <button class="close pull-right" aria-label="Close" (click)="closeModal()"> 
      <span aria-hidden="true">&times;</span>
      </button>
   </div>
   <div class="modal-body">
      <div class="row">
         <div class="col">
            <div class="table-responsive">
               <table  class="table table-striped table-hover mb-0" style="font-size: 12px">
                  <tbody>
                     <tr>
                        <td>Plan</td>
                        <td>{{group_title}} ({{duration}})</td>
                     </tr>
                     <tr>
                        <td>Purchase Date</td>
                        <td>{{purchasedata}}</td>
                     </tr>
                     <tr>
                        <td>Start date</td>
                        <td>{{startdate}}</td>
                     </tr>
                     <tr>
                        <td>End Date</td>
                        <td>{{enddate}}</td>
                     </tr>
                     <tr>
                        <td>Expiry Date</td>
                        <td>{{expirydate}}</td>
                     </tr>
                     <tr>
                        <td>Paid Deposite Amount</td>
                        <td>{{paiddeposit}}</td>
                     </tr>
                     <tr>
                        <td>Paid Subscription Amount</td>
                        <td>{{paidsubscribe}}</td>
                     </tr>
                     <tr>
                        <td>Balance Amount</td>
                        <td>{{balance}}</td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
      </div>
   </div>
   <div class="modal-footer">
      <button type="button" (click)="closeModal()" class="btn btn-primary btn-sm"> Close</button>
   </div>
</ng-template>