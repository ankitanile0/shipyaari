<div [innerHTML]="Loader"></div> 
<app-toastr></app-toastr>
<div class="card author-box card-primary">
  <div class="card-body" style="height: 603px;">
         <div class="row">
        <div class="col-lg-12 mt-3 text-center">
   <div class="author-box-left profile-pic">
        <div class="progress blue"> <span class="progress-left"> <span class="progress-bar"></span> </span> <span class="progress-right"> <span class="progress-bar"></span> </span>
            <div class="progress-value"> 
                <img alt="image" [src]="User_Image" onError="this.src='assets/img/prf.png'"   accept="image/png, image/gif, image/jpeg" class="rounded-circle author-box-picture img-thumbnail profile-img">
            </div>
        </div> 
           
            <div class="edit-ico"><a href="javascript:"><i class="fa fa-camera" ><input type="file" id="profile_pic" (change)='update_pic()'   class="custom-file-input" accept="image/png, image/gif, image/jpeg" required >
                </i></a></div>
        </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
        <div class="author-box-details">
            <div class="author-box-name text-primary font-bold">{{Full_Name}}</div>
           <!--  <div class="profile-complete"><span class="roboto-thin-text">Profile Completion </span><span class="fr db mb5 roboto-regular-text">70%</span><div class="progress justify-content-between">
                            <div class="progress-bar bg-danger progress">70%</div>
                            <span class="pro">30%</span>
                        </div></div> -->
                        
            <div class="author-box-job">Client ID :{{Client_Id}} </div>
            <div class="author-box-job">Referral Code : {{Referral_Code}}</div>
            <div class="row mt-2">
                <div class="col profile-blc">
                    <p class="text-primary wallet-value "><i class="fas fa-wallet"></i>  Wallet Amount - {{ Balance_Amount }}</p>
                </div>
                <!-- <div class="col">
                    <p class="text-primary"><span class="text-muted"> {{Consignment_Wallet}} </span></p>
                </div> -->
            </div>
        </div>
    </div>
</div>
    
        <div class="col-lg-12  text-center">
            <div class="btn-group">
                <button (click)="openModal(limit)" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#limit">INCREASE CR LIMIT REQUEST</button>
                <button (click)="openHistory(history)" class="btn btn-warning btn-sm" data-toggle="modal" data-target="#history"><i class="fa fa-info-circle black" aria-hidden="true"></i></button>
            </div>
        </div>
        <div class="col-lg-12 text-center mt-3 prf-bal" >
            <h5 class="mb-0">Balance Amount - {{Consignment_Wallet}}</h5>
        </div>
        <hr class="mt-2 mb-0">
        <div class="col-lg-12 text-center mt-1 prf-bal" >
            <h5 class="mt-0 mb-2" >About Company - {{Company_Name | titlecase}}</h5>
        </div>
        <!-- <div class="author-box-description">
            <h6>About Company - <span>  {{Company_Name}} </span></h6>
        </div> -->
        <div class="row m-0">
            <div class="col-lg-12">
                <p class="text-primary mb-2"><i class="fa fa-globe" aria-hidden="true"></i> &nbsp; {{Website}}</p>
            </div>
            <div class="col-lg-12">
                <p class="text-primary mb-2"><i class="fa fa-phone"></i> &nbsp; {{Contact_Number}}</p>
            </div>
            <div class="col-lg-12">
                <p class="text-primary mb-2"><i class="fas fa-envelope" aria-hidden="true"></i> &nbsp; {{Email}}</p>
            </div>
        </div>
  </div>
</div>

<ng-template #limit>
    <div class="modal-header">
    <p class="modal-title pull-left profile-heading"><b>Increase Credit Limit Request</b></p>
    <button class="close pull-right" aria-label="Close" (click)="closemodal()"> 
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
   <form #f="ngForm" (ngSubmit)="submit(f)">
  <div class="modal-body">
    <div class="row">
     <div class="col">
         <div class="form-group">
          <label>Enter Amount<b class="text-danger">*</b></label>
          <input type="number" class="form-control" [(ngModel)]="Increaseamount" name="Increaseamount" 
          placeholder="Enter Amount" #amount="ngModel" required>
          <small *ngIf="(Increaseamount == null || Increaseamount == '')&& f.submitted">Amount required</small> 
      </div>
     </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="submit"  class="btn btn-primary btn-sm"> Submit</button>
    <button type="button" (click)="closemodal()" class="btn btn-primary btn-sm"> Close</button>
  </div>
  </form>
</ng-template>

<ng-template #history>
     <div class="modal-header">
    <p class="modal-title pull-left profile-heading"><b>Increased Credit History</b></p>
    <button class="close pull-right" aria-label="Close" (click)="closeHistory()"> 
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row">
     <div class="col">
         <div class="table-responsive">
    <table class="table table-striped table-hover profile-tbl" id="save-stage">
        <thead class="text-center">
            <tr>
                <th>SrNo</th>
                <th>Date</th>
                <th>Amount</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody style="text-align: left;">
            <tr *ngFor="let data of credit_limit_History; let i = index" >
                <td>{{i+1}}</td>
                <td>{{data.transaction_date}}</td>
                <td>{{data.amount}}</td>
                <td><span class="badge badge-primary">{{data.admin_status}}</span></td>
               </tr>
        </tbody>
    </table>
</div>
     </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" (click)="closeHistory()" class="btn btn-primary btn-sm"> Close</button>
  </div>
</ng-template>



    